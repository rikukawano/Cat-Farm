<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <!-- name that appears on the tab at the top of the browser tab -->
    <title>Cat Farm</title>
    <!-- style sheet for project -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- require bootstrap css and javascript -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>

  <body ng-app="myApp">
    <div ng-controller="MessagesController">
      <!-- side nav -->
      <nav id="side-nav-height">
        <div
          class="side-menu-header"
          ng-model="username"
          ng-if="usernameRecieved === true"
        >
          <h4>Welcome {{user.username}}</h4>
        </div>

        <!-- user stats -->
        <h5 class="side-menu-header">
          <i class="fa fa-bitcoin"></i>
          <span class="user-money">
            {{user.money}}
          </span>
        </h5>
      </nav>

      <!-- messages area -->
      <div class="content">
        <!-- if not signed in then don't show user data -->
        <div ng-if="usernameRecieved === false" class="sign-in-btn">
          <!-- Modal for username -->

          <!-- Trigger the modal with a button -->
          <button
            type="button"
            class="btn btn-danger btn-lg"
            data-toggle="modal"
            data-target="#myModal"
          >
            Click to sign in!
          </button>

          <!-- Modal -->
          <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">
                    &times;
                  </button>
                  <h4 class="modal-title">
                    Enter a new username or existing username
                  </h4>
                </div>
                <div class="modal-body modal-body">
                  <input
                    id="username-input"
                    ng-model="username"
                    type="text"
                    class="form-control"
                    placeholder="Enter username"
                  />
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-success"
                    data-dismiss="modal"
                    ng-click="signIn()"
                  >
                    Sign in
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- end of modal code -->
        <div class="message-area-height" ng-if="usernameRecieved === true">
          <ul class="message-list" ng-repeat="cat in userCats">
            <li class="message-item">
              <button
                type="button"
                class="btn btn-success btn-lg"
                ng-click="sellCat(cat)"
              >
                SELL
              </button>
              <img src="{{cat.url}}" alt="cat-gif" width="100" />
              <span class="message-info">
                {{cat.name}}
              </span>
              <span class="refresh">
                <i class="fa fa-bitcoin"></i>{{cat.sellPrice}}
              </span>
            </li>
          </ul>
        </div>

        <!-- TODO CREATE MY NYAN CATS (LIST) -->
        <div class="form-group message-box">
          <!-- TODO SHOW CAT -->
          <button
            type="button"
            class="btn btn-success btn-lg"
            data-toggle="modal"
            data-target="#shop"
          >
            Shop
          </button>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="shop" role="dialog">
          <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">
                  Shop
                </h4>
                <span class="user-money">
                  <i class="fa fa-bitcoin"></i>{{user.money}}
                </span>
              </div>
              <div class="modal-body modal-body">
                <ul class="message-list">
                  <li class="message-item">
                    <button
                      type="button"
                      class="btn btn-success btn-lg"
                      ng-click="buyCat(1)"
                      ng-show="user.money >= 100"
                    >
                      BUY
                    </button>
                    <img
                      src="https://media.giphy.com/media/7lsw8RenVcjCM/200_d.gif"
                      alt="cat-gif"
                      width="100"
                    />
                    <span class="message-info">
                      Nyan Cat
                    </span>
                    <span class="refresh">
                      <i class="fa fa-bitcoin"></i>100
                    </span>
                  </li>
                  <li class="message-item">
                    <button
                      type="button"
                      class="btn btn-success btn-lg"
                      ng-click="buyCat(2)"
                      ng-show="user.money >= 500"
                    >
                      BUY
                    </button>
                    <img
                      src="https://i.pinimg.com/originals/40/23/21/402321430b4dab768c62ce2e72f53409.gif"
                      alt="cat-gif"
                      width="100"
                    />
                    <span class="message-info">
                      Gameboy Cat
                    </span>
                    <span class="refresh">
                      <i class="fa fa-bitcoin"></i>500
                    </span>
                  </li>
                  <li class="message-item">
                    <button
                      type="button"
                      class="btn btn-success btn-lg"
                      ng-click="buyCat(3)"
                      ng-show="user.money >= 800"
                    >
                      BUY
                    </button>
                    <img
                      src="https://i.gifer.com/2HuZ.gif"
                      alt="cat-gif"
                      width="100"
                    />
                    <span class="message-info">
                      Pikachu Cat
                    </span>
                    <span class="refresh">
                      <i class="fa fa-bitcoin"></i>800
                    </span>
                  </li>
                  <li class="message-item">
                    <button
                      type="button"
                      class="btn btn-success btn-lg"
                      ng-click="buyCat(4)"
                      ng-show="user.money >= 1000"
                    >
                      BUY
                    </button>
                    <img
                      src="https://i.gifer.com/ha9.gif"
                      alt="cat-gif"
                      width="100"
                    />
                    <span class="message-info">
                      nYan Cat
                    </span>
                    <span class="refresh">
                      <i class="fa fa-bitcoin"></i>1000
                    </span>
                  </li>
                  <li class="message-item">
                    <button
                      type="button"
                      class="btn btn-success btn-lg"
                      ng-click="buyCat(5)"
                      ng-show="user.money >= 600"
                    >
                      BUY
                    </button>
                    <img
                      src="https://data.whicdn.com/images/24012141/original.gif"
                      alt="cat-gif"
                      width="100"
                    />
                    <span class="message-info">
                      Party Cat
                    </span>
                    <span class="refresh">
                      <i class="fa fa-bitcoin"></i>600
                    </span>
                  </li>
                  <li class="message-item">
                    <button
                      type="button"
                      class="btn btn-success btn-lg"
                      ng-click="buyCat(6)"
                      ng-show="user.money >= 200"
                    >
                      BUY
                    </button>
                    <img
                      src="https://i.gifer.com/56Bu.gif"
                      alt="cat-gif"
                      width="100"
                    />
                    <span class="message-info">
                      Donut Cat
                    </span>
                    <span class="refresh">
                      <i class="fa fa-bitcoin"></i>200
                    </span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!-- end of modal code -->
      </div>
    </div>

    <!-- Modules -->
    <script src="js/app.js"></script>

    <!-- Controllers -->
    <script src="js/controllers/MessagesController.js"></script>
  </body>
</html>
